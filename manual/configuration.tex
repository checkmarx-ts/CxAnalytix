\chapter{Configuration}\label{chap:configuration}

\newcommand{\expandsenv}{\faCogs\ }
\newcommand{\encrypts}{\faLock\ }
\newcommand{\contentvariables}{\faEye\ }


\newtcblisting{xml}[3]{
    listing only,
    title=<#1> #2 #3,
    width=\textwidth,
    listing options={
        basicstyle=\small\ttfamily,
        breaklines=true,
        columns=fullflexible,
    },
}


CxAnalytix uses the XML \texttt{cxanalytix.config} to configure the application execution parameters.  A path search order described in Chapter \ref{chap:installation}
describes how CxAnalytix finds the configuration file at runtime.

\noindent\\Configuration of CxAnalytix is performed by adding XML elements to the top level \texttt{configuration} element in the
\texttt{cxanalytix.config} file.  The XML element names are indicated in each section with an example set of XML attributes or child-elements.

\paragraph{Element Annotation Key}

\noindent\\\\Elements annotated with \expandsenv will expand environment variables for assigned to elements for environment variable values in the
format \texttt{\%VARIABLENAME\%}.  

\noindent\\Elements annotated with \contentvariables allow for expansion of record content as described in Appendix \ref{chap:key_format_spec}.  

\noindent\\Elements annotated with \encrypts will encrypt the entire configuration element upon the first execution of CxAnalytix
\footnote{Only on Windows; Linux does not support configuration file encryption.}.  


\input{configuration-general.tex}
\input{configuration-audittrails.tex}


\section{Output Configuration}

CxAnalytix uses the concept of an output module for storing crawled data.  Each module is implemented such that it uses the concept of "record names" 
to store data by data type.  The name of the record used by the output module is defined in the \texttt{CxAnalytixService} configuration element described
in Section \ref{sec:runtime_config}.

\noindent\\As an example, if the \texttt{SASTScanDetailRecordName} attribute in the \texttt{CxAnalytixService} configuration element is set to
"SAST\_Scan\_Detail" and the \texttt{OutputModuleName} is set to \texttt{MongoDB}, a collection named "SAST\_Scan\_Detail" will be created in MongoDB.
All static analysis vulnerability details will therefore be written into the collection named "SAST\_Scan\_Detail".

\input{configuration-log4net.tex}

\input{configuration-mongo.tex}

\input{configuration-amqp.tex}
